Vagrant::Config.run do |config|
  config.vm.box = 'ubuntu-1110-server-amd64'
  config.vm.box_url = 'http://timhuegdon.com/vagrant-boxes/ubuntu-11.10.box'
  # config.vm.share_folder("opt2", "/opt2", "/Users/wagnersza/Documents/Projects/git/pessoal/opt2")
  # config.vm.boot_mode = :gui

  # OpenStack novaservices (All components of OpenStack including nova-compute)
  config.vm.define :novaservices do |novaservices|  
    novaservices.vm.host_name = 'novaservices'
    novaservices.vm.network :hostonly, "10.10.10.2"
    novaservices.vm.network :hostonly, "192.168.3.2"
    # novaservices.vm.customize [
    #   "modifyvm", :id,
    #   "--name", "novaservices",
    #   "--memory", "1024"
    # ]
    novaservices.vm.provision :puppet do |puppet|
      puppet.module_path = ['puppet/modules','puppet-master/modules']
      puppet.manifest_file = 'site.pp'
      # puppet.options = ["--debug", "--templatedir templates"]
      puppet.options = ["--templatedir templates"]
    end
  end

  config.vm.define :novaservices_centos do |novaservices| 
    novaservices.vm.box = 'centos-6-x86_64'
    novaservices.vm.box_url = 'https://vagrant-centos-6.s3.amazonaws.com/centos-6.box'
    novaservices.vm.host_name = 'novaservices_centos'
    novaservices.vm.network :hostonly, "10.10.10.3"
    novaservices.vm.network :hostonly, "192.168.3.3"
    novaservices.vm.provision :puppet do |puppet|
      puppet.module_path = ['puppet/modules','puppet-master/modules']
      puppet.manifest_file = 'site.pp'
      puppet.options = ["--templatedir templates"]
    end
  end


end
